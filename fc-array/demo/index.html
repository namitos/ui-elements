<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>fc-array demo</title>

  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>

  <link rel="import" href="../../../iron-demo-helpers/demo-pages-shared-styles.html">
  <link rel="import" href="../../../iron-demo-helpers/demo-snippet.html">
  <link rel="import" href="../../../polymer/lib/elements/dom-bind.html">
  <link rel="import" href="../../../polymer/lib/elements/dom-repeat.html">
  <link rel="import" href="../fc-array.html">

  <custom-style>
    <style is="custom-style" include="demo-pages-shared-styles">

    </style>
  </custom-style>
</head>

<body>
  <div class="vertical-section-container centered">
    <h3>Array of strings demo</h3>
    <demo-snippet>
      <template>
        <dom-bind>
          <template>
            <fc-array value="{{strArray}}" schema='
                {
                  "type": "array",
                  "label": "string array",
                  "items": {
                    "type": "string",
                    "label": "item"
                  }
                }
              '></fc-array>
            <div>
              <span>value: </span>
              <dom-repeat items="[[strArray]]">
                <template>
                  <span>[[item]] </span>
                </template>
              </dom-repeat>
            </div>
          </template>
        </dom-bind>
      </template>
    </demo-snippet>

    <h3>Array of objects demo</h3>
    <demo-snippet>
      <template>
        <dom-bind>
          <template>
            <fc-array value="{{objArray}}" schema='
                {
                  "type": "array",
                  "label": "obj array",
                  "items": {
                    "type": "object",
                    "label": "array item",
                    "properties": {
                      "str": {
                        "type": "string",
                        "label": "strProp"
                      },
                      "num": {
                        "type": "number",
                        "label": "numProp"
                      }
                    }
                  }
                }
              '></fc-array>
            <div>
              <span>value: </span>
              <dom-repeat items="[[objArray]]">
                <template>
                  <div>str: [[item.str]] num: [[item.num]]</div>
                </template>
              </dom-repeat>
            </div>
          </template>
        </dom-bind>
      </template>
    </demo-snippet>

    <h3>Nested array demo</h3>
    <demo-snippet>
      <template>
        <dom-bind id="azaza">
          <template>
            <fc-array value="{{arrArray}}" schema='
                {
                  "type": "array",
                  "label": "nested arrays",
                  "items": {
                    "type": "array",
                    "label": "nested array",
                    "items": {
                      "type": "number",
                      "label": "item"
                    }
                  }
                }
              '></fc-array>
            <div>
              <span>value: </span>
              <dom-repeat items="[[arrArray]]" as="nestedArray">
                <template>
                  <div>
                    Array: ([[nestedArray.length]]); items:
                    <dom-repeat items="[[nestedArray]]">
                      <template>
                        <span>[[item]] </span>
                      </template>
                    </dom-repeat>
                  </div>
                </template>
              </dom-repeat>
            </div>
          </template>
        </dom-bind>
        <script>
          document.getElementById('azaza').arrArray = [
            ['11', '22', '33', '44', '55'],
            ['11', '22', '33', '44', '55']
          ]
          document.getElementById('azaza')._json = function (obj) {
            return JSON.stringify(obj)
          }
        </script>
      </template>
    </demo-snippet>
  </div>

</body>

</html>